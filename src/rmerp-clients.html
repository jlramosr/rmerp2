<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="rmerp-tmpl-category-route.html">

<link rel="import" href="rmerp-clients-list.html">

<dom-module id="rmerp-clients">
  <template>

    <rmerp-tmpl-category-route
      route="[[route]]"
      category="[[category]]"
      label="[[label]]"
      user-id="[[userId]]"
      items={{items}}
      item={{item}}>

      <rmerp-clients-list
        name="list"
        category="[[category]]"
        data="{{items}}"
        load-complete="[[loadComplete]]"
        small-screen="[[smallScreen]]"
        medium-screen="[[mediumScreen]]"></rmerp-clients-list>

      <rmerp-clients-overview
        name="overview"
        model="[[model]]"
        data="{{item}}"
        load-complete="[[loadComplete]]"
        small-screen="[[smallScreen]]"
        medium-screen="[[mediumScreen]]"></rmerp-clients-overview>

      <rmerp-clients-settings
        name="settings"
        model="[[model]]"
        data="{{item}}"
        load-complete="[[loadComplete]]"
        small-screen="[[smallScreen]]"
        medium-screen="[[mediumScreen]]"></rmerp-clients-settings>

    </rmerp-tmpl-category-route>

  </template>

  <script>

    class RMERPClients extends Polymer.Element {

      static get is() { return 'rmerp-clients'; }

      static get properties() {
        return {

          model: {
            type: Array,
            value: _ => [
              {name: 'name', type: 'string', label: 'Nombre', icon: 'domain', readOnly: true, required: true,
                editView: { showIcon: false, rowStart: 5, cols: 2 },
                showView: { showIcon: false, rowStart: 5, cols: 2 }
              },
              {name: 'address', type: 'string', label: 'Direccion', icon: 'place', required: true,
                editView: { rowStart: 2, showLabel: false },
                showView: { rowStart: 2, showLabel: false }
              },
              {name: 'nif', type: 'string', label: 'NIF',
                editView: { rowStart: 8 },
                showView: { rowStart: 8 }
              },
              {name: 'contact', type: 'string', label: 'Contacto',
                editView: { rowStart: 9 },
                showView: { rowStart: 9 }
              },
              {name: 'type', type: 'select', label: 'Tipo',
                editView: { rowStart: 10 },
                showView: { rowStart: 10 }
              },
              {name: 'notes', type: 'text', label: 'Notas',
                editView: { rowStart: 11, rows: 3 },
                showView: { rowStart: 11, rows: 3 }
              },
              {name: 'address2', type: 'string', label: 'Direccion2',
                editView: { rowStart: 3, cols: 2, colStart: 7 },
                showView: { rowStart: 3, cols: 2, colStart: 7 }
              },
              {name: 'phone', type: 'string', label: 'Telefono', icon: 'local-phone',
                editView: { tab: 'facturacion', rowStart: 3, rows: 2, colStart: 3, cols: 3 },
                showView: { tab: 'facturacion', rowStart: 3, rows: 2, colStart: 3, cols: 3 }
              },
              {name: 'email', type: 'string', label: 'Email', icon: 'local-post-office',
                editView: { tab: 'facturacion', rowStart: 2 },
                showView: { tab: 'facturacion', rowStart: 2 }
              },
              {name: 'dontshowedit', type: 'number', label: 'Don\'t Show In Edit View',
                editView: false,
                showView: { rowStart: 1, cols: 6 }
              },
              {name: 'dontshowview', type: 'number', label: 'Don\'t Show In Show View',
                editView: false,
                editView: { rowStart: 1, cols: 6 }
              },
              {name: 'tab', type: 'tab', label: 'Facturación',
                tabs: [{name: 'facturacion', label: 'Facturación'}, {name: 'historial', label: 'Historial'}],
                editView: { rowStart: 8, rowEnd: 13, cols: 6, colStart: 1 },
                showView: { rowStart: 8, rowEnd: 13, cols: 6, colStart: 1 }
              }
            ]
          },

          route: Object,

          category: String,

          label: String,

          items: Array,

          item: Object,

          itemId: String,

          userId: String,

          smallScreen: Boolean,

          mediumScreen: Boolean

        };
      }

    }

    window.customElements.define(RMERPClients.is, RMERPClients);

  </script>
</dom-module>
