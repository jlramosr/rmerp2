<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="rmerp-styles.html">
<link rel="import" href="rmerp-tmpl-header-layout.html">
<link rel="import" href="rmerp-tmpl-form.html">
<link rel="import" href="rmerp-button.html">

<dom-module id="rmerp-clients-overview">
  <template>

    <style include="content-styles">
      :host {
        display: block;
      }
    </style>

    <rmerp-tmpl-header-layout
      title="{{data.name}}"
      back-path="/clients"
      small-screen="{{smallScreen}}">

      <rmerp-button
        slot="action"
        label="PREFERENCIAS"
        href="/clients/[[data.id]]/settings"
        icon="settings"
        small="[[smallScreen]]"></rmerp-button>

      <div slot="content" class="content__page">

        <rmerp-tmpl-form
          data="[[data]]"
          model="[[model]]"
          columns="12"
          small-screen="[[smallScreen]]"
          medium-screen="[[mediumScreen]]"></rmerp-tmpl-form>

      </div>

    </rmerp-tmpl-header-layout>

  </template>

  <script>

    class RMERPClientsOverview extends Polymer.Element {

      static get is() { return 'rmerp-clients-overview'; }

      static get properties() {
        return {

          model: {
            type: Array,
            value: _ => [
              {name: 'name', type: 'string', label: 'Nombre', icon: 'supervisor-account', readOnly: true, required: true, formView: { rowStart: 5, cols: 2 } },
              {name: 'address', type: 'string', label: 'Direccion', required: true, formView: { rowStart: 2 } },
              {name: 'nif', type: 'string', label: 'NIF', formView: { rowStart: 8} },
              {name: 'contact', type: 'string', label: 'Contacto', formView: { rowStart: 9} },
              {name: 'type', type: 'select', label: 'Tipo', formView: { rowStart: 10} },
              {name: 'notes', type: 'text', label: 'Notas', formView: { rowStart: 11, rows: 3} },
              {name: 'address2', type: 'string', label: 'Direccion2', formView: { rowStart: 3, cols: 2, colStart: 7 } },
              {name: 'phone', type: 'string', label: 'Telefono', formView: { tab: 'facturacion', rowStart: 3, rows: 2, colStart: 3, cols: 3} },
              {name: 'email', type: 'string', label: 'Email', formView: { tab:'facturacion', rowStart: 2} },
              {name: 'dontshow', type: 'number', label: 'Don\'t Show', formView: false },
              {
                name: 'tab', type: 'tab', label: 'Facturación', 
                tabs: [{name: 'facturacion', label: 'Facturación'}, {name: 'historial', label: 'Historial'}],
                formView: { rowStart: 8, rowEnd: 13, cols: 6, colStart: 1} 
              }
            ]
          },

          data: Object,

          smallScreen: Object,

          mediumScreen: Object

        }
      }

    }

    window.customElements.define(RMERPClientsOverview.is, RMERPClientsOverview);

  </script>
</dom-module>
